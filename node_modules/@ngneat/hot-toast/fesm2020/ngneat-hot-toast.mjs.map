{"version":3,"file":"ngneat-hot-toast.mjs","sources":["../../../../projects/ngneat/hot-toast/src/lib/constants.ts","../../../../projects/ngneat/hot-toast/src/lib/hot-toast-ref.ts","../../../../projects/ngneat/hot-toast/src/lib/utils.ts","../../../../projects/ngneat/hot-toast/src/lib/components/animated-icon/animated-icon.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/animated-icon/animated-icon.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/loader/loader.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/loader/loader.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/error/error.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/error/error.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/checkmark/checkmark.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/checkmark/checkmark.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/warning/warning.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/warning/warning.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/info/info.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/icons/info/info.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/indicator.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/indicator/indicator.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/hot-toast/hot-toast.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/hot-toast/hot-toast.component.html","../../../../projects/ngneat/hot-toast/src/lib/components/hot-toast-container/hot-toast-container.component.ts","../../../../projects/ngneat/hot-toast/src/lib/components/hot-toast-container/hot-toast-container.component.html","../../../../projects/ngneat/hot-toast/src/lib/hot-toast.model.ts","../../../../projects/ngneat/hot-toast/src/lib/hot-toast.service.ts","../../../../projects/ngneat/hot-toast/src/lib/hot-toast.module.ts","../../../../projects/ngneat/hot-toast/src/public-api.ts","../../../../projects/ngneat/hot-toast/src/ngneat-hot-toast.ts"],"sourcesContent":["import { ToastType } from './hot-toast.model';\n\nexport const HOT_TOAST_DEFAULT_TIMEOUTS: {\n  [key in ToastType]: number;\n} = {\n  blank: 4000,\n  error: 4000,\n  success: 4000,\n  loading: 30000,\n  warning: 4000,\n  info: 4000,\n};\n\nexport const EXIT_ANIMATION_DURATION = 800;\nexport const ENTER_ANIMATION_DURATION = 350;\n\nexport const HOT_TOAST_MARGIN = 8;\n","import { Content } from '@ngneat/overview';\nimport { Observable, race, Subject } from 'rxjs';\n\n// This should be a `type` import since it causes `ng-packagr` compilation to fail because of a cyclic dependency.\nimport type { HotToastContainerComponent } from './components/hot-toast-container/hot-toast-container.component';\nimport { HotToastClose, Toast, UpdateToastOptions, HotToastRefProps, DefaultDataType } from './hot-toast.model';\n\nexport class HotToastRef<DataType = DefaultDataType> implements HotToastRefProps<DataType> {\n  updateMessage: (message: Content) => void;\n  updateToast: (options: UpdateToastOptions<DataType>) => void;\n  afterClosed: Observable<HotToastClose>;\n\n  private _dispose: () => void;\n  set dispose(value: () => void) {\n    this._dispose = value;\n  }\n\n  /** Subject for notifying the user that the toast has been closed. */\n  private _onClosed = new Subject<HotToastClose>();\n\n  constructor(private toast: Toast<DataType>) {}\n\n  getToast() {\n    return this.toast;\n  }\n\n  /**Used for internal purpose\n   * Attach ToastRef to container\n   */\n  appendTo(container: HotToastContainerComponent) {\n    const { dispose, updateMessage, updateToast, afterClosed } = container.addToast(this);\n\n    this.dispose = dispose;\n    this.updateMessage = updateMessage;\n    this.updateToast = updateToast;\n    this.afterClosed = race(this._onClosed.asObservable(), afterClosed);\n    return this;\n  }\n\n  /**\n   * Closes the toast\n   *\n   * @param [closeData={ dismissedByAction: false }] -\n   * Make sure to pass { dismissedByAction: true } when closing from template\n   * @memberof HotToastRef\n   */\n  close(closeData: { dismissedByAction: boolean } = { dismissedByAction: false }) {\n    this._dispose();\n    this._onClosed.next({ dismissedByAction: closeData.dismissedByAction, id: this.toast.id });\n    this._onClosed.complete();\n  }\n\n  get data() {\n    return this.toast.data;\n  }\n}\n","export const animate = (element: HTMLElement, value: string) => {\n  element.style.animation = value;\n};\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-animated-icon',\n  templateUrl: './animated-icon.component.html',\n  styleUrls: ['./animated-icon.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AnimatedIconComponent {\n  @Input() iconTheme: IconTheme;\n}\n","<div class=\"hot-toast-animated-icon\" [style.color]=\"iconTheme?.primary\">\n  <ng-content></ng-content>\n</div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-loader',\n  templateUrl: './loader.component.html',\n  styleUrls: ['./loader.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LoaderComponent {\n  @Input() theme: IconTheme;\n}\n","<div\n  class=\"hot-toast-loader-icon\"\n  [ngStyle]=\"{ 'border-color': theme?.primary, 'border-right-color': theme?.secondary }\"\n></div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-error',\n  templateUrl: './error.component.html',\n  styleUrls: ['./error.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ErrorComponent {\n  @Input() theme: IconTheme;\n}\n","<div\n  class=\"hot-toast-error-icon\"\n  [style.--error-primary]=\"theme?.primary\"\n  [style.--error-secondary]=\"theme?.secondary\"\n></div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-checkmark',\n  templateUrl: './checkmark.component.html',\n  styleUrls: ['./checkmark.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CheckMarkComponent {\n  @Input() theme: IconTheme;\n}\n","<div\n  class=\"hot-toast-checkmark-icon\"\n  [style.--check-primary]=\"theme?.primary\"\n  [style.--check-secondary]=\"theme?.secondary\"\n></div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-warning',\n  templateUrl: './warning.component.html',\n  styleUrls: ['./warning.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class WarningComponent {\n  @Input() theme: IconTheme;\n}\n","<div\n  class=\"hot-toast-warning-icon\"\n  [style.--warn-primary]=\"theme?.primary\"\n  [style.--warn-secondary]=\"theme?.secondary\"\n></div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme } from '../../../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-info',\n  templateUrl: './info.component.html',\n  styleUrls: ['./info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class InfoComponent {\n  @Input() theme: IconTheme;\n}\n","<div\n  class=\"hot-toast-info-icon\"\n  [style.--warn-primary]=\"theme?.primary\"\n  [style.--warn-secondary]=\"theme?.secondary\"\n></div>\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IconTheme, ToastType } from '../../hot-toast.model';\n\n@Component({\n  selector: 'hot-toast-indicator',\n  templateUrl: 'indicator.component.html',\n  styleUrls: ['./indicator.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class IndicatorComponent {\n  @Input() theme: IconTheme;\n  @Input() type: ToastType;\n}\n","<div *ngIf=\"type !== 'blank'\" class=\"hot-toast-indicator-wrapper\">\n  <hot-toast-loader [theme]=\"theme\"></hot-toast-loader>\n  <div *ngIf=\"type !== 'loading'\" class=\"hot-toast-status-wrapper\">\n    <div [ngSwitch]=\"type\">\n      <div *ngSwitchCase=\"'error'\">\n        <hot-toast-error [theme]=\"theme\"></hot-toast-error>\n      </div>\n      <div *ngSwitchCase=\"'success'\">\n        <hot-toast-checkmark [theme]=\"theme\"></hot-toast-checkmark>\n      </div>\n      <div *ngSwitchCase=\"'warning'\">\n        <hot-toast-warning [theme]=\"theme\"></hot-toast-warning>\n      </div>\n      <div *ngSwitchCase=\"'info'\">\n        <hot-toast-info [theme]=\"theme\"></hot-toast-info>\n      </div>\n    </div>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { isComponent, isTemplateRef } from '@ngneat/overview';\nimport { ENTER_ANIMATION_DURATION, EXIT_ANIMATION_DURATION } from '../../constants';\nimport { HotToastRef } from '../../hot-toast-ref';\nimport { CreateHotToastRef, HotToastClose, Toast, ToastConfig } from '../../hot-toast.model';\nimport { animate } from '../../utils';\n\n@Component({\n  selector: 'hot-toast',\n  templateUrl: 'hot-toast.component.html',\n  styleUrls: ['./hot-toast.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HotToastComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() toast: Toast<unknown>;\n  @Input() offset = 0;\n  @Input() defaultConfig: ToastConfig;\n  @Input() toastRef: CreateHotToastRef<unknown>;\n\n  @Output() height = new EventEmitter<number>();\n  @Output() beforeClosed = new EventEmitter();\n  @Output() afterClosed = new EventEmitter<HotToastClose>();\n\n  @ViewChild('hotToastBarBase') private toastBarBase: ElementRef<HTMLElement>;\n\n  isManualClose = false;\n  context: Record<string, any>;\n  toastComponentInjector: Injector;\n\n  private unlisteners: VoidFunction[] = [];\n\n  constructor(private injector: Injector, private renderer: Renderer2, private ngZone: NgZone) {}\n\n  ngOnInit() {\n    if (isTemplateRef(this.toast.message)) {\n      this.context = { $implicit: this.toastRef };\n    }\n    if (isComponent(this.toast.message)) {\n      this.toastComponentInjector = Injector.create({\n        providers: [\n          {\n            provide: HotToastRef,\n            useValue: this.toastRef,\n          },\n        ],\n        parent: this.toast.injector || this.injector,\n      });\n    }\n  }\n\n  ngAfterViewInit() {\n    const nativeElement = this.toastBarBase.nativeElement;\n    // Caretaker note: accessing `offsetHeight` triggers the whole layout update.\n    // Macro tasks (like `setTimeout`) might be executed within the current rendering frame and cause a frame drop.\n    requestAnimationFrame(() => {\n      this.height.emit(nativeElement.offsetHeight);\n    });\n\n    // Caretaker note: `animationstart` and `animationend` events are event tasks that trigger change detection.\n    // We'd want to trigger the change detection only if it's an exit animation.\n    this.ngZone.runOutsideAngular(() => {\n      this.unlisteners.push(\n        // Caretaker note: we have to remove these event listeners at the end (even if the element is removed from DOM).\n        // zone.js stores its `ZoneTask`s within the `nativeElement[Zone.__symbol__('animationstart') + 'false']` property\n        // with callback that capture `this`.\n        this.renderer.listen(nativeElement, 'animationstart', (event: AnimationEvent) => {\n          if (this.isExitAnimation(event)) {\n            this.ngZone.run(() => this.beforeClosed.emit());\n          }\n        }),\n        this.renderer.listen(nativeElement, 'animationend', (event: AnimationEvent) => {\n          if (this.isExitAnimation(event)) {\n            this.ngZone.run(() => this.afterClosed.emit({ dismissedByAction: this.isManualClose, id: this.toast.id }));\n          }\n        })\n      );\n    });\n\n    this.setToastAttributes();\n  }\n\n  get containerPositionStyle() {\n    const top = this.toast.position.includes('top');\n    const verticalStyle = top ? { top: 0 } : { bottom: 0 };\n\n    const horizontalStyle = this.toast.position.includes('left')\n      ? {\n          left: 0,\n        }\n      : this.toast.position.includes('right')\n      ? {\n          right: 0,\n        }\n      : {\n          left: 0,\n          right: 0,\n          justifyContent: 'center',\n        };\n    return {\n      transform: `translateY(${this.offset * (top ? 1 : -1)}px)`,\n      ...verticalStyle,\n      ...horizontalStyle,\n    };\n  }\n\n  get toastBarBaseStyles() {\n    const top = this.toast.position.includes('top');\n\n    const enterAnimation = `hotToastEnterAnimation${\n      top ? 'Negative' : 'Positive'\n    } ${ENTER_ANIMATION_DURATION}ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;\n\n    const exitAnimation = `hotToastExitAnimation${\n      top ? 'Negative' : 'Positive'\n    } ${EXIT_ANIMATION_DURATION}ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`;\n\n    const animation = this.toast.autoClose ? `${enterAnimation}, ${exitAnimation}` : enterAnimation;\n\n    return { ...this.toast.style, animation };\n  }\n\n  get isIconString() {\n    return typeof this.toast.icon === 'string';\n  }\n\n  close() {\n    this.isManualClose = true;\n    const top = this.toast.position.includes('top');\n\n    const exitAnimation = `hotToastExitAnimation${\n      top ? 'Negative' : 'Positive'\n    } ${EXIT_ANIMATION_DURATION}ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`;\n\n    const nativeElement = this.toastBarBase.nativeElement;\n\n    animate(nativeElement, exitAnimation);\n  }\n\n  ngOnDestroy() {\n    this.close();\n    while (this.unlisteners.length) {\n      this.unlisteners.pop()();\n    }\n  }\n\n  private isExitAnimation(ev: AnimationEvent) {\n    return ev.animationName.includes('hotToastExitAnimation');\n  }\n\n  private setToastAttributes() {\n    const toastAttributes: Record<string, string> = this.toast.attributes;\n    for (const [key, value] of Object.entries(toastAttributes)) {\n      this.renderer.setAttribute(this.toastBarBase.nativeElement, key, value);\n    }\n  }\n}\n","<div\n  class=\"hot-toast-bar-base-container\"\n  [ngStyle]=\"containerPositionStyle\"\n  [ngClass]=\"'hot-toast-theme-' + toast.theme\"\n>\n  <div\n    class=\"hot-toast-bar-base\"\n    #hotToastBarBase\n    [ngStyle]=\"toastBarBaseStyles\"\n    [ngClass]=\"toast.className\"\n    [style.--hot-toast-animation-state]=\"isManualClose ? 'running' : 'paused'\"\n    [attr.aria-live]=\"toast.ariaLive\"\n    [attr.role]=\"toast.role\"\n  >\n    <div class=\"hot-toast-icon\" aria-hidden=\"true\">\n      <ng-container *ngIf=\"toast.icon !== undefined; else indicator\">\n        <ng-container *ngIf=\"isIconString; else iconTemplateOrComponent\">\n          <hot-toast-animated-icon [iconTheme]=\"toast.iconTheme\">{{ toast.icon }}</hot-toast-animated-icon>\n        </ng-container>\n        <ng-template #iconTemplateOrComponent>\n          <div>\n            <ng-container [dynamicView]=\"toast.icon\"></ng-container>\n          </div>\n        </ng-template>\n      </ng-container>\n\n      <ng-template #indicator>\n        <hot-toast-indicator [theme]=\"toast.iconTheme\" [type]=\"toast.type\"></hot-toast-indicator>\n      </ng-template>\n    </div>\n\n    <div class=\"hot-toast-message\">\n      <div>\n        <ng-container *dynamicView=\"toast.message; context: context; injector: toastComponentInjector\"></ng-container>\n      </div>\n    </div>\n\n    <button\n      *ngIf=\"toast.dismissible\"\n      (click)=\"close()\"\n      type=\"button\"\n      class=\"hot-toast-close-btn\"\n      aria-label=\"Close\"\n      [ngStyle]=\"toast.closeStyle\"\n    ></button>\n  </div>\n</div>\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Input, QueryList, ViewChildren } from '@angular/core';\nimport { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport {\n  HotToastClose,\n  Toast,\n  ToastConfig,\n  ToastPosition,\n  UpdateToastOptions,\n  AddToastRef,\n  CreateHotToastRef,\n} from '../../hot-toast.model';\nimport { HotToastRef } from '../../hot-toast-ref';\nimport { filter } from 'rxjs/operators';\nimport { Content } from '@ngneat/overview';\nimport { HotToastComponent } from '../hot-toast/hot-toast.component';\nimport { HOT_TOAST_MARGIN } from '../../constants';\n\n@Component({\n  selector: 'hot-toast-container',\n  templateUrl: './hot-toast-container.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HotToastContainerComponent {\n  @Input() defaultConfig: ToastConfig;\n\n  @ViewChildren(HotToastComponent) hotToastComponentList: QueryList<HotToastComponent>;\n\n  toasts: Toast<unknown>[] = [];\n  toastRefs: CreateHotToastRef<unknown>[] = [];\n\n  /** Subject for notifying the user that the toast has been closed. */\n  private _onClosed = new Subject<HotToastClose>();\n\n  private onClosed$ = this._onClosed.asObservable();\n\n  constructor(private cdr: ChangeDetectorRef) {}\n\n  trackById(index: number, toast: Toast<unknown>) {\n    return toast.id;\n  }\n\n  calculateOffset(toastId: string, position: ToastPosition) {\n    const visibleToasts = this.toasts.filter((t) => t.visible && t.position === position);\n    const index = visibleToasts.findIndex((toast) => toast.id === toastId);\n    const offset =\n      index !== -1\n        ? visibleToasts\n            .slice(...(this.defaultConfig.reverseOrder ? [index + 1] : [0, index]))\n            .reduce((acc, t) => acc + (t.height || 0) + HOT_TOAST_MARGIN, 0)\n        : 0;\n    return offset;\n  }\n\n  updateHeight(height: number, toast: Toast<unknown>) {\n    toast.height = height;\n    this.cdr.detectChanges();\n  }\n\n  addToast<DataType>(ref: HotToastRef): AddToastRef<DataType> {\n    this.toastRefs.push(ref);\n\n    const toast = ref.getToast();\n\n    this.toasts.push(ref.getToast());\n\n    this.cdr.detectChanges();\n\n    return {\n      dispose: () => {\n        this.closeToast(toast.id);\n      },\n      updateMessage: (message: Content) => {\n        toast.message = message;\n        this.cdr.detectChanges();\n      },\n      updateToast: (options: UpdateToastOptions<DataType>) => {\n        this.updateToasts(toast, options);\n        this.cdr.detectChanges();\n      },\n      afterClosed: this.getAfterClosed(toast),\n    };\n  }\n\n  closeToast(id?: string) {\n    if (id) {\n      const comp = this.hotToastComponentList.find((item) => item.toast.id === id);\n      if (comp) {\n        comp.close();\n      }\n    } else {\n      this.hotToastComponentList.forEach((comp) => comp.close());\n    }\n  }\n\n  beforeClosed(toast: Toast<unknown>) {\n    toast.visible = false;\n  }\n\n  afterClosed(closeToast: HotToastClose) {\n    const toastIndex = this.toasts.findIndex((t) => t.id === closeToast.id);\n    if (toastIndex > -1) {\n      this._onClosed.next(closeToast);\n      this.toasts = this.toasts.filter((t) => t.id !== closeToast.id);\n      this.toastRefs = this.toastRefs.filter((t) => t.getToast().id !== closeToast.id);\n      this.cdr.detectChanges();\n    }\n  }\n\n  hasToast(id: string) {\n    return this.toasts.findIndex((t) => t.id === id) > -1;\n  }\n\n  private getAfterClosed(toast: Toast<unknown>) {\n    return this.onClosed$.pipe(filter((v) => v.id === toast.id));\n  }\n\n  private updateToasts(toast: Toast<unknown>, options?: UpdateToastOptions<unknown>) {\n    this.toasts = this.toasts.map((t) => ({ ...t, ...(t.id === toast.id && { ...toast, ...options }) }));\n  }\n}\n","<div style=\"position: fixed; z-index: 9999; top: 0; right: 0; bottom: 0; left: 0; pointer-events: none\">\n  <div style=\"position: relative; height: 100%\">\n    <hot-toast\n      *ngFor=\"let toast of toasts; trackBy: trackById; let i = index\"\n      [toast]=\"toast\"\n      [offset]=\"calculateOffset(toast.id, toast.position)\"\n      [toastRef]=\"toastRefs[i]\"\n      (height)=\"updateHeight($event, toast)\"\n      (beforeClosed)=\"beforeClosed(toast)\"\n      (afterClosed)=\"afterClosed($event)\"\n    ></hot-toast>\n  </div>\n</div>\n","import { Injector } from '@angular/core';\nimport { Content } from '@ngneat/overview';\nimport { Observable } from 'rxjs';\n\nexport class ToastConfig implements DefaultToastOptions {\n  /**\n   * Sets the reverse order for hot-toast stacking\n   *\n   * @default false\n   */\n  reverseOrder = false;\n\n  ariaLive: ToastAriaLive = 'polite';\n  role: ToastRole = 'status';\n  position: ToastPosition = 'top-center';\n  className: string;\n  closeStyle: any;\n  dismissible: boolean;\n  autoClose = true;\n  duration: number;\n  icon: Content;\n  iconTheme: IconTheme;\n  style: any;\n  theme: ToastTheme = 'toast';\n  attributes: Record<string, string> = {};\n\n  // key in ToastType\n  success: ToastOptions<unknown> & { content?: Content } = { content: '' };\n  error: ToastOptions<unknown> & { content?: Content } = { content: '' };\n  loading: ToastOptions<unknown> & { content?: Content } = { content: '' };\n  blank: ToastOptions<unknown> & { content?: Content } = { content: '' };\n  warning: ToastOptions<unknown> & { content?: Content } = { content: '' };\n}\n\nexport type ToastType = 'success' | 'error' | 'loading' | 'blank' | 'warning' | 'info';\nexport type ToastPosition = 'top-left' | 'top-center' | 'top-right' | 'bottom-left' | 'bottom-center' | 'bottom-right';\n\nexport type IconTheme = {\n  primary: string;\n  secondary?: string;\n};\n\nexport type ToastTheme = 'toast' | 'snackbar';\n\nexport type ValueFunction<TValue, TArg> = (arg: TArg) => TValue;\nexport type ValueOrFunction<TValue, TArg> = TValue | ValueFunction<TValue, TArg>;\n\nconst isFunction = <TValue, TArg>(\n  valOrFunction: ValueOrFunction<TValue, TArg>\n): valOrFunction is ValueFunction<TValue, TArg> => typeof valOrFunction === 'function';\n\nexport const resolveValueOrFunction = <TValue, TArg>(valOrFunction: ValueOrFunction<TValue, TArg>, arg: TArg): TValue =>\n  isFunction(valOrFunction) ? valOrFunction(arg) : valOrFunction;\n\nexport type ToastRole = 'status' | 'alert';\n\nexport type ToastAriaLive = 'assertive' | 'off' | 'polite';\n\nexport interface Toast<DataType> {\n  type: ToastType;\n\n  /**\n   * Unique id to associate with hot-toast.\n   * There can't be multiple hot-toasts opened with same id.\n   *\n   * @default Date.now().toString()\n   */\n  id: string;\n\n  /** The message to show in the hot-toast. */\n  message: Content;\n\n  /**\n   * Role of the live region.\n   *\n   * @default status\n   */\n  role: ToastRole;\n\n  /** aria-live value for the live region.\n   *\n   * @default polite\n   */\n  ariaLive: ToastAriaLive;\n\n  /**Icon to show in the hot-toast */\n  icon?: Content;\n\n  /**\n   * Duration in milliseconds after which hot-toast will be auto closed.\n   * Can be disabled via `autoClose: false`\n   *\n   * @default 3000 | error = 4000 | loading = 30000\n   */\n  duration?: number;\n\n  /**\n   * Show close button in hot-toast\n   *\n   * @default false\n   */\n  dismissible?: boolean;\n\n  /**\n   * Auto close hot-toast after duration\n   *\n   * @default true\n   */\n  autoClose?: boolean;\n\n  /**Extra styles to apply for hot-toast */\n  style?: any;\n\n  /**Extra CSS classes to be added to the hot toast container. */\n  className?: string;\n\n  /**Extra attribute to be added to the hot toast container. */\n  attributes?: Record<string, string>;\n\n  /**Use this to change icon color */\n  iconTheme?: IconTheme;\n\n  /**\n   * Visual appearance of hot-toast\n   *\n   * @default toast\n   */\n  theme?: ToastTheme;\n\n  /**\n   * The position to place the hot-toast.\n   *\n   *  @default top-center\n   */\n  position?: ToastPosition;\n\n  /**Extra styles to apply for close button */\n  closeStyle?: any;\n\n  createdAt: number;\n  visible: boolean;\n  height?: number;\n\n  observableMessages?: ObservableMessages<unknown, DataType>;\n\n  /**\n   * Useful when you want to keep a persistance for toast based on ids, across sessions.\n   *\n   * @example\n   * // Lets say you want show hot-toast, with a particular id,\n   * // max 3 times to a user irrespective of browser session.\n   * // In this case you will set this as:\n   * { enabled: true, count: 3 }\n   *\n   * @type {ToastPersistConfig}\n   */\n  persist?: ToastPersistConfig;\n\n  /**\n   * Allows you to pass injector for your component\n   *\n   * @since 1.1.0\n   * @type {Injector}\n   * @memberof Toast\n   */\n  injector?: Injector;\n\n  /**\n   * Allows you to pass data for your component/template\n   *\n   * @since 2.0.0\n   * @type {DataType}\n   * @memberof Toast\n   */\n  data?: DataType;\n}\n\nexport type ToastOptions<DataType> = Partial<\n  Pick<\n    Toast<DataType>,\n    | 'id'\n    | 'icon'\n    | 'duration'\n    | 'dismissible'\n    | 'autoClose'\n    | 'role'\n    | 'ariaLive'\n    | 'className'\n    | 'style'\n    | 'iconTheme'\n    | 'theme'\n    | 'position'\n    | 'closeStyle'\n    | 'persist'\n    | 'injector'\n    | 'data'\n    | 'attributes'\n  >\n>;\n\nexport type DefaultToastOptions = ToastOptions<unknown> & {\n  [key in ToastType]?: ToastOptions<unknown> & { content?: Content };\n};\n\nexport type ObservableLoading<DataType> = {\n  content: Content;\n} & ToastOptions<DataType>;\n\nexport type ObservableSuccessOrError<T, DataType> = {\n  content: ValueOrFunction<Content, T>;\n} & ToastOptions<DataType>;\n\nexport type ObservableMessages<T, DataType> = {\n  loading?: Content | ObservableLoading<DataType>;\n  success?: ValueOrFunction<Content, T> | ObservableSuccessOrError<T, DataType>;\n  error?: ValueOrFunction<Content, any> | ObservableSuccessOrError<any, DataType>;\n};\n\nexport interface HotToastServiceMethods {\n  show<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown>;\n  error<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown>;\n  success<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown>;\n  loading<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown>;\n  warning<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown>;\n  observe<T, DataType>(messages: ObservableMessages<T, DataType>): (source: Observable<T>) => Observable<T>;\n  close(id?: string): void;\n}\n\nexport type UpdateToastOptions<DataType> = Partial<\n  Pick<\n    Toast<DataType>,\n    'icon' | 'duration' | 'dismissible' | 'className' | 'style' | 'iconTheme' | 'type' | 'theme' | 'closeStyle'\n  >\n>;\n\nexport interface HotToastRefProps<DataType> {\n  /** Returns all the toast options */\n  getToast: () => Toast<DataType>;\n  dispose: () => void;\n  /**Updates only message */\n  updateMessage: (message: Content) => void;\n  /**Update updatable options of toast */\n  updateToast: (options: UpdateToastOptions<DataType>) => void;\n  /** Observable for notifying the user that the toast has been closed. */\n  afterClosed: Observable<HotToastClose>;\n  /**Closes the toast */\n  close: (closeData?: { dismissedByAction: boolean }) => void;\n  /**\n   * @since 2.0.0\n   */\n  readonly data: DataType;\n}\n\n/** Event that is emitted when a snack bar is dismissed. */\nexport interface HotToastClose {\n  /** Whether the snack bar was dismissed using the action button. */\n  dismissedByAction: boolean;\n  id: string;\n}\n\nexport class ToastPersistConfig {\n  /**\n   *In which storage id vs. counts should be stored\n   *\n   * @type {('local' | 'session')}\n   * @memberof ToastPersistConfig\n   * @default 'local'\n   */\n  storage?: 'local' | 'session' = 'local';\n\n  /**\n   *The key pattern to store object in storage. `${id}` in pattern is replaced with actual toast id.\n   *\n   * @type {('local' | 'session')}\n   * @memberof ToastPersistConfig\n   * @default 'ngneat/hottoast-${id}'\n   */\n  key?: string = 'ngneat/hototast-${id}';\n\n  /**\n   *The number of toasts allowed to show.\n   *\n   * @memberof ToastPersistConfig\n   * @default 1\n   */\n  count? = 1;\n\n  enabled = false;\n}\n\nexport type AddToastRef<DataType> = Pick<\n  HotToastRefProps<DataType>,\n  'afterClosed' | 'dispose' | 'updateMessage' | 'updateToast'\n>;\n\nexport type CreateHotToastRef<DataType> = Omit<Omit<HotToastRefProps<DataType>, 'appendTo'>, 'dispose'>;\n\nexport type DefaultDataType = Record<string, any>;\n","import { isPlatformServer } from '@angular/common';\nimport { Inject, Injectable, Optional, PLATFORM_ID } from '@angular/core';\nimport { CompRef, Content, isComponent, isTemplateRef, ViewService } from '@ngneat/overview';\nimport { defer, Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { HotToastContainerComponent } from './components/hot-toast-container/hot-toast-container.component';\nimport { HOT_TOAST_DEFAULT_TIMEOUTS } from './constants';\nimport { HotToastRef } from './hot-toast-ref';\nimport {\n  CreateHotToastRef,\n  DefaultToastOptions,\n  HotToastServiceMethods,\n  ObservableLoading,\n  ObservableMessages,\n  ObservableSuccessOrError,\n  resolveValueOrFunction,\n  Toast,\n  ToastConfig,\n  ToastOptions,\n  ToastPersistConfig,\n  ToastType,\n  UpdateToastOptions,\n  ValueOrFunction,\n} from './hot-toast.model';\n\n@Injectable({ providedIn: 'root' })\nexport class HotToastService implements HotToastServiceMethods {\n  private _isInitialized = false;\n  private _componentRef: CompRef<HotToastContainerComponent>;\n\n  private _defaultConfig = new ToastConfig();\n  get defaultConfig() {\n    return this._defaultConfig;\n  }\n  set defaultConfig(config: ToastConfig) {\n    this._defaultConfig = {\n      ...this._defaultConfig,\n      ...config,\n    };\n    if (this._componentRef) {\n      this._componentRef.setInput('defaultConfig', this._defaultConfig);\n    }\n  }\n  private _defaultPersistConfig = new ToastPersistConfig();\n\n  constructor(\n    private _viewService: ViewService,\n    @Inject(PLATFORM_ID) private platformId: string,\n    @Optional() config: ToastConfig\n  ) {\n    if (config) {\n      this._defaultConfig = {\n        ...this._defaultConfig,\n        ...config,\n      };\n    }\n  }\n\n  /**\n   * Opens up an hot-toast without any pre-configurations\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   */\n  show<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.blank.content, 'blank', {\n      ...this._defaultConfig,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   * Opens up an hot-toast with pre-configurations for error state\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   */\n  error<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.error.content, 'error', {\n      ...this._defaultConfig,\n      ...this._defaultConfig?.error,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   * Opens up an hot-toast with pre-configurations for success state\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   */\n  success<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.success.content, 'success', {\n      ...this._defaultConfig,\n      ...this._defaultConfig?.success,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   * Opens up an hot-toast with pre-configurations for loading state\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   */\n  loading<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.loading.content, 'loading', {\n      ...this._defaultConfig,\n      ...this._defaultConfig?.loading,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   * Opens up an hot-toast with pre-configurations for warning state\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   */\n  warning<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.warning.content, 'warning', {\n      ...this._defaultConfig,\n      ...this._defaultConfig?.warning,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   * Opens up an hot-toast with pre-configurations for info state\n   *\n   * @param message The message to show in the hot-toast.\n   * @param [options] Additional configuration options for the hot-toast.\n   * @returns\n   * @memberof HotToastService\n   * @since 3.3.0\n   */\n  info<DataType>(message?: Content, options?: ToastOptions<DataType>): CreateHotToastRef<DataType | unknown> {\n    const toast = this.createToast<DataType>(message || this._defaultConfig.warning.content, 'info', {\n      ...this._defaultConfig,\n      ...this._defaultConfig?.warning,\n      ...options,\n    });\n\n    return toast;\n  }\n\n  /**\n   *\n   *  Opens up an hot-toast with pre-configurations for loading initially and then changes state based on messages\n   *\n   * @template T Type of observable\n   * @param messages Messages for each state i.e. loading, success and error\n   * @returns\n   * @memberof HotToastService\n   */\n  observe<T, DataType>(messages: ObservableMessages<T, DataType>): (source: Observable<T>) => Observable<T> {\n    return (source) => {\n      let toastRef: CreateHotToastRef<DataType | unknown>;\n      let start = 0;\n\n      const loadingContent = messages.loading ?? this._defaultConfig.loading?.content;\n      const successContent = messages.success ?? this._defaultConfig.success?.content;\n      const errorContent = messages.error ?? this._defaultConfig.error?.content;\n\n      return defer(() => {\n        if (loadingContent) {\n          toastRef = this.createLoadingToast<T, DataType>(loadingContent);\n          start = Date.now();\n        }\n        return source.pipe(\n          tap({\n            ...(successContent && {\n              next: (val) => {\n                toastRef = this.createOrUpdateToast<T, DataType | unknown>(\n                  messages,\n                  val,\n                  toastRef,\n                  'success',\n                  start === 0 ? start : Date.now() - start\n                );\n              },\n            }),\n            ...(errorContent && {\n              error: (e) => {\n                toastRef = this.createOrUpdateToast<T, DataType | unknown>(\n                  messages,\n                  e,\n                  toastRef,\n                  'error',\n                  start === 0 ? start : Date.now() - start\n                );\n              },\n            }),\n          })\n        );\n      });\n    };\n  }\n\n  /**\n   * Closes the hot-toast\n   *\n   * @param [id] - ID of the toast\n   * @since 3.0.1 - If ID is not provided, all toasts will be closed\n   */\n  close(id?: string) {\n    if (this._componentRef) {\n      this._componentRef.ref.instance.closeToast(id);\n    }\n  }\n\n  /**\n   * Used for internal purpose only.\n   * Creates a container component and attaches it to document.body.\n   */\n  private init() {\n    if (isPlatformServer(this.platformId)) {\n      return;\n    }\n    this._componentRef = this._viewService\n      .createComponent(HotToastContainerComponent)\n      .setInput('defaultConfig', this._defaultConfig)\n      .appendTo(document.body);\n  }\n\n  private createOrUpdateToast<T, DataType>(\n    messages: ObservableMessages<T, DataType>,\n    val: unknown,\n    toastRef: CreateHotToastRef<DataType>,\n    type: ToastType,\n    diff: number\n  ) {\n    let content: Content | ValueOrFunction<Content, T> = null;\n    let options: ToastOptions<DataType | unknown> = {};\n    ({ content, options } = this.getContentAndOptions<any, DataType>(\n      type,\n      messages[type] || (this._defaultConfig[type] ? this._defaultConfig[type].content : '')\n    ));\n    content = resolveValueOrFunction(content, val);\n    if (toastRef) {\n      toastRef.updateMessage(content);\n      const updatedOptions: UpdateToastOptions<DataType> = {\n        type,\n        duration: diff + HOT_TOAST_DEFAULT_TIMEOUTS[type],\n        ...options,\n        ...(options.duration && { duration: diff + options.duration }),\n      };\n      toastRef.updateToast(updatedOptions);\n    } else {\n      this.createToast<DataType, T>(content, type, options);\n    }\n    return toastRef;\n  }\n\n  private createToast<DataType, T = unknown>(\n    message: Content,\n    type: ToastType,\n    options?: DefaultToastOptions,\n    observableMessages?: ObservableMessages<T, DataType>\n  ): CreateHotToastRef<DataType | unknown> {\n    if (!this._isInitialized) {\n      this._isInitialized = true;\n      this.init();\n    }\n\n    const now = Date.now();\n    const id = options?.id ?? now.toString();\n\n    if (\n      !this.isDuplicate(id) &&\n      (!options.persist?.enabled || (options.persist?.enabled && this.handleStorageValue(id, options)))\n    ) {\n      const toast: Toast<DataType | unknown> = {\n        ariaLive: options?.ariaLive ?? 'polite',\n        createdAt: now,\n        duration: options?.duration ?? HOT_TOAST_DEFAULT_TIMEOUTS[type],\n        id,\n        message,\n        role: options?.role ?? 'status',\n        type,\n        visible: true,\n        observableMessages: observableMessages ?? undefined,\n        ...options,\n      };\n\n      return new HotToastRef<DataType | unknown>(toast).appendTo(this._componentRef.ref.instance);\n    }\n  }\n\n  /**\n   * Checks whether any toast with same id is present.\n   *\n   * @private\n   * @param id - Toast ID\n   */\n  private isDuplicate(id: string) {\n    return this._componentRef.ref.instance.hasToast(id);\n  }\n\n  /**\n   * Creates an entry in local or session storage with count ${defaultConfig.persist.count}, if not present.\n   * If present in storage, reduces the count\n   * and returns the count.\n   * Count can not be less than 0.\n   */\n  private handleStorageValue(id: string, options: DefaultToastOptions): number {\n    let count = 1;\n    const persist = { ...this._defaultPersistConfig, ...options.persist };\n    const storage: Storage = persist.storage === 'local' ? localStorage : sessionStorage;\n    const key = persist.key.replace(/\\${id}/g, id);\n\n    let item: string | number = storage.getItem(key);\n\n    if (item) {\n      item = parseInt(item, 10);\n      if (item > 0) {\n        count = item - 1;\n      } else {\n        count = item;\n      }\n    } else {\n      count = persist.count;\n    }\n\n    storage.setItem(key, count.toString());\n\n    return count;\n  }\n\n  private getContentAndOptions<T, DataType>(\n    toastType: ToastType,\n    message: Content | ValueOrFunction<Content, T> | ObservableLoading<DataType> | ObservableSuccessOrError<T, DataType>\n  ): { options: ToastOptions<DataType | unknown>; content: Content | ValueOrFunction<Content, T> } {\n    let content: Content | ValueOrFunction<Content, T>;\n    let options: ToastOptions<DataType | unknown> = {\n      ...this._defaultConfig,\n      ...this._defaultConfig[toastType],\n    };\n\n    // typeof message === 'object' won't work, cz TemplateRef's type is object\n    if (typeof message === 'string' || isTemplateRef(message) || isComponent(message)) {\n      content = message;\n    } else {\n      let restOptions: ToastOptions<DataType>;\n      ({ content, ...restOptions } = message as ObservableLoading<DataType> | ObservableSuccessOrError<T, DataType>);\n      options = { ...options, ...restOptions };\n    }\n\n    return { content, options };\n  }\n\n  private createLoadingToast<T, DataType>(messages: Content | ObservableLoading<DataType>) {\n    let content: Content | ValueOrFunction<Content, T> = null;\n    let options: ToastOptions<DataType | unknown> = {};\n\n    ({ content, options } = this.getContentAndOptions<any, DataType>('loading', messages));\n\n    return this.loading(content as Content, options);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { DynamicViewModule } from '@ngneat/overview';\n\nimport { AnimatedIconComponent } from './components/animated-icon/animated-icon.component';\nimport { HotToastComponent } from './components/hot-toast/hot-toast.component';\nimport { CheckMarkComponent } from './components/indicator/icons/checkmark/checkmark.component';\nimport { ErrorComponent } from './components/indicator/icons/error/error.component';\nimport { LoaderComponent } from './components/indicator/icons/loader/loader.component';\nimport { IndicatorComponent } from './components/indicator/indicator.component';\nimport { ToastConfig } from './hot-toast.model';\nimport { HotToastContainerComponent } from './components/hot-toast-container/hot-toast-container.component';\nimport { WarningComponent } from './components/indicator/icons/warning/warning.component';\nimport { InfoComponent } from './components/indicator/icons/info/info.component';\n\n@NgModule({\n  declarations: [\n    HotToastContainerComponent,\n    HotToastComponent,\n    AnimatedIconComponent,\n    IndicatorComponent,\n    CheckMarkComponent,\n    ErrorComponent,\n    LoaderComponent,\n    WarningComponent,\n    InfoComponent,\n  ],\n  imports: [CommonModule, DynamicViewModule],\n  entryComponents: [HotToastContainerComponent],\n})\nexport class HotToastModule {\n  static forRoot(config?: Partial<ToastConfig>): ModuleWithProviders<HotToastModule> {\n    return {\n      ngModule: HotToastModule,\n      providers: [{ provide: ToastConfig, useValue: config }],\n    };\n  }\n}\n","/*\n * Public API Surface of hot-toast\n */\n\nexport * from './lib/hot-toast.service';\nexport * from './lib/hot-toast.module';\nexport * from './lib/hot-toast.model';\nexport * from './lib/hot-toast-ref';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;;AAEO,MAAM,0BAA0B,GAEnC;IACF,KAAK,EAAE,IAAI;IACX,KAAK,EAAE,IAAI;IACX,OAAO,EAAE,IAAI;IACb,OAAO,EAAE,KAAK;IACd,OAAO,EAAE,IAAI;IACb,IAAI,EAAE,IAAI;CACX,CAAC;AAEK,MAAM,uBAAuB,GAAG,GAAG,CAAC;AACpC,MAAM,wBAAwB,GAAG,GAAG,CAAC;AAErC,MAAM,gBAAgB,GAAG,CAAC;;MCTpB,WAAW;IAatB,YAAoB,KAAsB;QAAtB,UAAK,GAAL,KAAK,CAAiB;;QAFlC,cAAS,GAAG,IAAI,OAAO,EAAiB,CAAC;KAEH;IAP9C,IAAI,OAAO,CAAC,KAAiB;QAC3B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACvB;IAOD,QAAQ;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;;;;IAKD,QAAQ,CAAC,SAAqC;QAC5C,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEtF,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,EAAE,WAAW,CAAC,CAAC;QACpE,OAAO,IAAI,CAAC;KACb;;;;;;;;IASD,KAAK,CAAC,YAA4C,EAAE,iBAAiB,EAAE,KAAK,EAAE;QAC5E,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,iBAAiB,EAAE,SAAS,CAAC,iBAAiB,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3F,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC3B;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;KACxB;;;ACtDI,MAAM,OAAO,GAAG,CAAC,OAAoB,EAAE,KAAa;IACzD,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;AAClC,CAAC;;MCOY,qBAAqB;;kHAArB,qBAAqB;sGAArB,qBAAqB,mGCTlC,qHAGA;2FDMa,qBAAqB;kBANjC,SAAS;+BACE,yBAAyB,mBAGlB,uBAAuB,CAAC,MAAM;8BAGtC,SAAS;sBAAjB,KAAK;;;MEDK,eAAe;;4GAAf,eAAe;gGAAf,eAAe,oFCT5B,gJAIA;2FDKa,eAAe;kBAN3B,SAAS;+BACE,kBAAkB,mBAGX,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;;;MEDK,cAAc;;2GAAd,cAAc;+FAAd,cAAc,mFCT3B,mJAKA;2FDIa,cAAc;kBAN1B,SAAS;+BACE,iBAAiB,mBAGV,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;;;MEDK,kBAAkB;;+GAAlB,kBAAkB;mGAAlB,kBAAkB,uFCT/B,uJAKA;2FDIa,kBAAkB;kBAN9B,SAAS;+BACE,qBAAqB,mBAGd,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;;;MEDK,gBAAgB;;6GAAhB,gBAAgB;iGAAhB,gBAAgB,qFCT7B,mJAKA;2FDIa,gBAAgB;kBAN5B,SAAS;+BACE,mBAAmB,mBAGZ,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;;;MEDK,aAAa;;0GAAb,aAAa;8FAAb,aAAa,kFCT1B,gJAKA;2FDIa,aAAa;kBANzB,SAAS;+BACE,gBAAgB,mBAGT,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;;;MEDK,kBAAkB;;+GAAlB,kBAAkB;mGAAlB,kBAAkB,qGCT/B,wuBAmBA;2FDVa,kBAAkB;kBAN9B,SAAS;+BACE,qBAAqB,mBAGd,uBAAuB,CAAC,MAAM;8BAGtC,KAAK;sBAAb,KAAK;gBACG,IAAI;sBAAZ,KAAK;;;MEgBK,iBAAiB;IAkB5B,YAAoB,QAAkB,EAAU,QAAmB,EAAU,MAAc;QAAvE,aAAQ,GAAR,QAAQ,CAAU;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAAU,WAAM,GAAN,MAAM,CAAQ;QAhBlF,WAAM,GAAG,CAAC,CAAC;QAIV,WAAM,GAAG,IAAI,YAAY,EAAU,CAAC;QACpC,iBAAY,GAAG,IAAI,YAAY,EAAE,CAAC;QAClC,gBAAW,GAAG,IAAI,YAAY,EAAiB,CAAC;QAI1D,kBAAa,GAAG,KAAK,CAAC;QAId,gBAAW,GAAmB,EAAE,CAAC;KAEsD;IAE/F,QAAQ;QACN,IAAI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YACrC,IAAI,CAAC,OAAO,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;SAC7C;QACD,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YACnC,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE;oBACT;wBACE,OAAO,EAAE,WAAW;wBACpB,QAAQ,EAAE,IAAI,CAAC,QAAQ;qBACxB;iBACF;gBACD,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ;aAC7C,CAAC,CAAC;SACJ;KACF;IAED,eAAe;QACb,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;;;QAGtD,qBAAqB,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;SAC9C,CAAC,CAAC;;;QAIH,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC5B,IAAI,CAAC,WAAW,CAAC,IAAI;;;;YAInB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,gBAAgB,EAAE,CAAC,KAAqB;gBAC1E,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;oBAC/B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC;iBACjD;aACF,CAAC,EACF,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,cAAc,EAAE,CAAC,KAAqB;gBACxE,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;oBAC/B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;iBAC5G;aACF,CAAC,CACH,CAAC;SACH,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,EAAE,CAAC;KAC3B;IAED,IAAI,sBAAsB;QACxB,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChD,MAAM,aAAa,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;QAEvD,MAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;cACxD;gBACE,IAAI,EAAE,CAAC;aACR;cACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;kBACrC;oBACE,KAAK,EAAE,CAAC;iBACT;kBACD;oBACE,IAAI,EAAE,CAAC;oBACP,KAAK,EAAE,CAAC;oBACR,cAAc,EAAE,QAAQ;iBACzB,CAAC;QACN,OAAO;YACL,SAAS,EAAE,cAAc,IAAI,CAAC,MAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK;YAC1D,GAAG,aAAa;YAChB,GAAG,eAAe;SACnB,CAAC;KACH;IAED,IAAI,kBAAkB;QACpB,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEhD,MAAM,cAAc,GAAG,yBACrB,GAAG,GAAG,UAAU,GAAG,UACrB,IAAI,wBAAwB,+CAA+C,CAAC;QAE5E,MAAM,aAAa,GAAG,wBACpB,GAAG,GAAG,UAAU,GAAG,UACrB,IAAI,uBAAuB,iDAAiD,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC;QAEpG,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,GAAG,cAAc,KAAK,aAAa,EAAE,GAAG,cAAc,CAAC;QAEhG,OAAO,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC;KAC3C;IAED,IAAI,YAAY;QACd,OAAO,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,QAAQ,CAAC;KAC5C;IAED,KAAK;QACH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEhD,MAAM,aAAa,GAAG,wBACpB,GAAG,GAAG,UAAU,GAAG,UACrB,IAAI,uBAAuB,+CAA+C,CAAC;QAE3E,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;QAEtD,OAAO,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;KACvC;IAED,WAAW;QACT,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC9B,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,EAAE,CAAC;SAC1B;KACF;IAEO,eAAe,CAAC,EAAkB;QACxC,OAAO,EAAE,CAAC,aAAa,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;KAC3D;IAEO,kBAAkB;QACxB,MAAM,eAAe,GAA2B,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACtE,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE;YAC1D,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;SACzE;KACF;;8GA7IU,iBAAiB;kGAAjB,iBAAiB,+VC3B9B,2jDA+CA;2FDpBa,iBAAiB;kBAN7B,SAAS;+BACE,WAAW,mBAGJ,uBAAuB,CAAC,MAAM;4IAGtC,KAAK;sBAAb,KAAK;gBACG,MAAM;sBAAd,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACG,QAAQ;sBAAhB,KAAK;gBAEI,MAAM;sBAAf,MAAM;gBACG,YAAY;sBAArB,MAAM;gBACG,WAAW;sBAApB,MAAM;gBAE+B,YAAY;sBAAjD,SAAS;uBAAC,iBAAiB;;;MEdjB,0BAA0B;IAarC,YAAoB,GAAsB;QAAtB,QAAG,GAAH,GAAG,CAAmB;QAR1C,WAAM,GAAqB,EAAE,CAAC;QAC9B,cAAS,GAAiC,EAAE,CAAC;;QAGrC,cAAS,GAAG,IAAI,OAAO,EAAiB,CAAC;QAEzC,cAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;KAEJ;IAE9C,SAAS,CAAC,KAAa,EAAE,KAAqB;QAC5C,OAAO,KAAK,CAAC,EAAE,CAAC;KACjB;IAED,eAAe,CAAC,OAAe,EAAE,QAAuB;QACtD,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC;QACtF,MAAM,KAAK,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,EAAE,KAAK,OAAO,CAAC,CAAC;QACvE,MAAM,MAAM,GACV,KAAK,KAAK,CAAC,CAAC;cACR,aAAa;iBACV,KAAK,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;iBACtE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,gBAAgB,EAAE,CAAC,CAAC;cAClE,CAAC,CAAC;QACR,OAAO,MAAM,CAAC;KACf;IAED,YAAY,CAAC,MAAc,EAAE,KAAqB;QAChD,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;KAC1B;IAED,QAAQ,CAAW,GAAgB;QACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEzB,MAAM,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;QAE7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QAEjC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QAEzB,OAAO;YACL,OAAO,EAAE;gBACP,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;aAC3B;YACD,aAAa,EAAE,CAAC,OAAgB;gBAC9B,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;gBACxB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC1B;YACD,WAAW,EAAE,CAAC,OAAqC;gBACjD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gBAClC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC1B;YACD,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;SACxC,CAAC;KACH;IAED,UAAU,CAAC,EAAW;QACpB,IAAI,EAAE,EAAE;YACN,MAAM,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YAC7E,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,KAAK,EAAE,CAAC;aACd;SACF;aAAM;YACL,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;SAC5D;KACF;IAED,YAAY,CAAC,KAAqB;QAChC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;KACvB;IAED,WAAW,CAAC,UAAyB;QACnC,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,CAAC,CAAC;QACxE,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE;YACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,CAAC,CAAC;YAChE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,CAAC,CAAC;YACjF,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;SAC1B;KACF;IAED,QAAQ,CAAC,EAAU;QACjB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KACvD;IAEO,cAAc,CAAC,KAAqB;QAC1C,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;KAC9D;IAEO,YAAY,CAAC,KAAqB,EAAE,OAAqC;QAC/E,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE,IAAI,EAAE,GAAG,KAAK,EAAE,GAAG,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACtG;;uHAhGU,0BAA0B;2GAA1B,0BAA0B,iJAGvB,iBAAiB,gDC1BjC,qiBAaA;2FDUa,0BAA0B;kBALtC,SAAS;+BACE,qBAAqB,mBAEd,uBAAuB,CAAC,MAAM;wGAGtC,aAAa;sBAArB,KAAK;gBAE2B,qBAAqB;sBAArD,YAAY;uBAAC,iBAAiB;;;MEtBpB,WAAW;IAAxB;;;;;;QAME,iBAAY,GAAG,KAAK,CAAC;QAErB,aAAQ,GAAkB,QAAQ,CAAC;QACnC,SAAI,GAAc,QAAQ,CAAC;QAC3B,aAAQ,GAAkB,YAAY,CAAC;QAIvC,cAAS,GAAG,IAAI,CAAC;QAKjB,UAAK,GAAe,OAAO,CAAC;QAC5B,eAAU,GAA2B,EAAE,CAAC;;QAGxC,YAAO,GAAkD,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QACzE,UAAK,GAAkD,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QACvE,YAAO,GAAkD,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QACzE,UAAK,GAAkD,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QACvE,YAAO,GAAkD,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;KAC1E;CAAA;AAeD,MAAM,UAAU,GAAG,CACjB,aAA4C,KACK,OAAO,aAAa,KAAK,UAAU,CAAC;MAE1E,sBAAsB,GAAG,CAAe,aAA4C,EAAE,GAAS,KAC1G,UAAU,CAAC,aAAa,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,GAAG,cAAc;MAgNpD,kBAAkB;IAA/B;;;;;;;;QAQE,YAAO,GAAyB,OAAO,CAAC;;;;;;;;QASxC,QAAG,GAAY,uBAAuB,CAAC;;;;;;;QAQvC,UAAK,GAAI,CAAC,CAAC;QAEX,YAAO,GAAG,KAAK,CAAC;KACjB;;;MCrQY,eAAe;IAmB1B,YACU,YAAyB,EACJ,UAAkB,EACnC,MAAmB;QAFvB,iBAAY,GAAZ,YAAY,CAAa;QACJ,eAAU,GAAV,UAAU,CAAQ;QApBzC,mBAAc,GAAG,KAAK,CAAC;QAGvB,mBAAc,GAAG,IAAI,WAAW,EAAE,CAAC;QAanC,0BAAqB,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAOvD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,cAAc,GAAG;gBACpB,GAAG,IAAI,CAAC,cAAc;gBACtB,GAAG,MAAM;aACV,CAAC;SACH;KACF;IAzBD,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,cAAc,CAAC;KAC5B;IACD,IAAI,aAAa,CAAC,MAAmB;QACnC,IAAI,CAAC,cAAc,GAAG;YACpB,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,MAAM;SACV,CAAC;QACF,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;SACnE;KACF;;;;;;;;;IAwBD,IAAI,CAAW,OAAiB,EAAE,OAAgC;QAChE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE;YAC9F,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;IAUD,KAAK,CAAW,OAAiB,EAAE,OAAgC;QACjE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE;YAC9F,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,EAAE,KAAK;YAC7B,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;IAUD,OAAO,CAAW,OAAiB,EAAE,OAAgC;QACnE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE;YAClG,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,EAAE,OAAO;YAC/B,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;IAUD,OAAO,CAAW,OAAiB,EAAE,OAAgC;QACnE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE;YAClG,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,EAAE,OAAO;YAC/B,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;IAUD,OAAO,CAAW,OAAiB,EAAE,OAAgC;QACnE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE;YAClG,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,EAAE,OAAO;YAC/B,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;;IAWD,IAAI,CAAW,OAAiB,EAAE,OAAgC;QAChE,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAW,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE;YAC/F,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,EAAE,OAAO;YAC/B,GAAG,OAAO;SACX,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;KACd;;;;;;;;;;IAWD,OAAO,CAAc,QAAyC;QAC5D,OAAO,CAAC,MAAM;YACZ,IAAI,QAA+C,CAAC;YACpD,IAAI,KAAK,GAAG,CAAC,CAAC;YAEd,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC;YAChF,MAAM,cAAc,GAAG,QAAQ,CAAC,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC;YAChF,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,OAAO,CAAC;YAE1E,OAAO,KAAK,CAAC;gBACX,IAAI,cAAc,EAAE;oBAClB,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAc,cAAc,CAAC,CAAC;oBAChE,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;iBACpB;gBACD,OAAO,MAAM,CAAC,IAAI,CAChB,GAAG,CAAC;oBACF,IAAI,cAAc,IAAI;wBACpB,IAAI,EAAE,CAAC,GAAG;4BACR,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CACjC,QAAQ,EACR,GAAG,EACH,QAAQ,EACR,SAAS,EACT,KAAK,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CACzC,CAAC;yBACH;qBACF,CAAC;oBACF,IAAI,YAAY,IAAI;wBAClB,KAAK,EAAE,CAAC,CAAC;4BACP,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CACjC,QAAQ,EACR,CAAC,EACD,QAAQ,EACR,OAAO,EACP,KAAK,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CACzC,CAAC;yBACH;qBACF,CAAC;iBACH,CAAC,CACH,CAAC;aACH,CAAC,CAAC;SACJ,CAAC;KACH;;;;;;;IAQD,KAAK,CAAC,EAAW;QACf,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;SAChD;KACF;;;;;IAMO,IAAI;QACV,IAAI,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACrC,OAAO;SACR;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY;aACnC,eAAe,CAAC,0BAA0B,CAAC;aAC3C,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC;aAC9C,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC5B;IAEO,mBAAmB,CACzB,QAAyC,EACzC,GAAY,EACZ,QAAqC,EACrC,IAAe,EACf,IAAY;QAEZ,IAAI,OAAO,GAA0C,IAAI,CAAC;QAC1D,IAAI,OAAO,GAAqC,EAAE,CAAC;QACnD,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAC/C,IAAI,EACJ,QAAQ,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC,CACvF,EAAE;QACH,OAAO,GAAG,sBAAsB,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAC/C,IAAI,QAAQ,EAAE;YACZ,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAChC,MAAM,cAAc,GAAiC;gBACnD,IAAI;gBACJ,QAAQ,EAAE,IAAI,GAAG,0BAA0B,CAAC,IAAI,CAAC;gBACjD,GAAG,OAAO;gBACV,IAAI,OAAO,CAAC,QAAQ,IAAI,EAAE,QAAQ,EAAE,IAAI,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;aAC/D,CAAC;YACF,QAAQ,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;SACtC;aAAM;YACL,IAAI,CAAC,WAAW,CAAc,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;SACvD;QACD,OAAO,QAAQ,CAAC;KACjB;IAEO,WAAW,CACjB,OAAgB,EAChB,IAAe,EACf,OAA6B,EAC7B,kBAAoD;QAEpD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,IAAI,EAAE,CAAC;SACb;QAED,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,EAAE,GAAG,OAAO,EAAE,EAAE,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC;QAEzC,IACE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;aACpB,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,KAAK,OAAO,CAAC,OAAO,EAAE,OAAO,IAAI,IAAI,CAAC,kBAAkB,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,EACjG;YACA,MAAM,KAAK,GAA8B;gBACvC,QAAQ,EAAE,OAAO,EAAE,QAAQ,IAAI,QAAQ;gBACvC,SAAS,EAAE,GAAG;gBACd,QAAQ,EAAE,OAAO,EAAE,QAAQ,IAAI,0BAA0B,CAAC,IAAI,CAAC;gBAC/D,EAAE;gBACF,OAAO;gBACP,IAAI,EAAE,OAAO,EAAE,IAAI,IAAI,QAAQ;gBAC/B,IAAI;gBACJ,OAAO,EAAE,IAAI;gBACb,kBAAkB,EAAE,kBAAkB,IAAI,SAAS;gBACnD,GAAG,OAAO;aACX,CAAC;YAEF,OAAO,IAAI,WAAW,CAAqB,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SAC7F;KACF;;;;;;;IAQO,WAAW,CAAC,EAAU;QAC5B,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KACrD;;;;;;;IAQO,kBAAkB,CAAC,EAAU,EAAE,OAA4B;QACjE,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,MAAM,OAAO,GAAG,EAAE,GAAG,IAAI,CAAC,qBAAqB,EAAE,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;QACtE,MAAM,OAAO,GAAY,OAAO,CAAC,OAAO,KAAK,OAAO,GAAG,YAAY,GAAG,cAAc,CAAC;QACrF,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAE/C,IAAI,IAAI,GAAoB,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEjD,IAAI,IAAI,EAAE;YACR,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC1B,IAAI,IAAI,GAAG,CAAC,EAAE;gBACZ,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC;aAClB;iBAAM;gBACL,KAAK,GAAG,IAAI,CAAC;aACd;SACF;aAAM;YACL,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;SACvB;QAED,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;QAEvC,OAAO,KAAK,CAAC;KACd;IAEO,oBAAoB,CAC1B,SAAoB,EACpB,OAAoH;QAEpH,IAAI,OAA8C,CAAC;QACnD,IAAI,OAAO,GAAqC;YAC9C,GAAG,IAAI,CAAC,cAAc;YACtB,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC;SAClC,CAAC;;QAGF,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,aAAa,CAAC,OAAO,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,EAAE;YACjF,OAAO,GAAG,OAAO,CAAC;SACnB;aAAM;YACL,IAAI,WAAmC,CAAC;YACxC,CAAC,EAAE,OAAO,EAAE,GAAG,WAAW,EAAE,GAAG,OAA8E,EAAE;YAC/G,OAAO,GAAG,EAAE,GAAG,OAAO,EAAE,GAAG,WAAW,EAAE,CAAC;SAC1C;QAED,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;KAC7B;IAEO,kBAAkB,CAAc,QAA+C;QACrF,IAAI,OAAO,GAA0C,IAAI,CAAC;QAC1D,IAAI,OAAO,GAAqC,EAAE,CAAC;QAEnD,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,oBAAoB,CAAgB,SAAS,EAAE,QAAQ,CAAC,EAAE;QAEvF,OAAO,IAAI,CAAC,OAAO,CAAC,OAAkB,EAAE,OAAO,CAAC,CAAC;KAClD;;4GAhWU,eAAe,6CAqBhB,WAAW;gHArBV,eAAe,cADF,MAAM;2FACnB,eAAe;kBAD3B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;0BAsB7B,MAAM;2BAAC,WAAW;;0BAClB,QAAQ;;;MCnBA,cAAc;IACzB,OAAO,OAAO,CAAC,MAA6B;QAC1C,OAAO;YACL,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC;SACxD,CAAC;KACH;;2GANU,cAAc;4GAAd,cAAc,iBAbvB,0BAA0B;QAC1B,iBAAiB;QACjB,qBAAqB;QACrB,kBAAkB;QAClB,kBAAkB;QAClB,cAAc;QACd,eAAe;QACf,gBAAgB;QAChB,aAAa,aAEL,YAAY,EAAE,iBAAiB;4GAG9B,cAAc,YAHhB,CAAC,YAAY,EAAE,iBAAiB,CAAC;2FAG/B,cAAc;kBAf1B,QAAQ;mBAAC;oBACR,YAAY,EAAE;wBACZ,0BAA0B;wBAC1B,iBAAiB;wBACjB,qBAAqB;wBACrB,kBAAkB;wBAClB,kBAAkB;wBAClB,cAAc;wBACd,eAAe;wBACf,gBAAgB;wBAChB,aAAa;qBACd;oBACD,OAAO,EAAE,CAAC,YAAY,EAAE,iBAAiB,CAAC;oBAC1C,eAAe,EAAE,CAAC,0BAA0B,CAAC;iBAC9C;;;AC7BD;;;;ACAA;;;;;;"}